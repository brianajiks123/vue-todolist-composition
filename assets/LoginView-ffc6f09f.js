import{k as b,l as f,e as v,m as w,o as r,c as l,u as c,h as y,f as u,a as e,g as m,q as V,t as k}from"./index-b7d3079d.js";import{B as p}from"./BaseInput-362ba71e.js";const x=e("h1",{style:{color:"green"}},"Login",-1),U=e("br",null,null,-1),B=["onSubmit"],L=e("br",null,null,-1),R=e("br",null,null,-1),q=e("button",{type:"submit",style:{"background-color":"green",color:"azure",padding:"5px","border-radius":"5px"}},"Login",-1),N=e("br",null,null,-1),S=e("br",null,null,-1),A={key:1},j={__name:"LoginView",setup(C){const _=b(),t=f(),d={username:"",password:""},o=v({...d}),i=()=>Object.assign(o.value,d),h=async()=>{try{await t.login(o.value),t.setUser(),i(),_.replace({name:"Authenticated",params:{id:t.getUser.id}})}catch(n){console.log(n),alert(n)}};return(n,s)=>{const g=w("RouterLink");return r(),l("div",null,[x,U,c(t).getUser.id?(r(),l("h3",A,k(c(t).getUser.id),1)):(r(),l("form",{key:0,method:"post",onSubmit:y(h,["prevent"]),onReset:i},[u(p,{name:"username",modelValue:o.value.username,"onUpdate:modelValue":s[0]||(s[0]=a=>o.value.username=a),placeholder:"username",required:""},null,8,["modelValue"]),L,u(p,{name:"password",modelValue:o.value.password,"onUpdate:modelValue":s[1]||(s[1]=a=>o.value.password=a),placeholder:"password",type:"password",required:""},null,8,["modelValue"]),R,q,N,S,e("p",null,[m("Already have account? "),u(g,{to:{name:"Regist"}},{default:V(()=>[m("register")]),_:1})])],40,B))])}}};export{j as default};
